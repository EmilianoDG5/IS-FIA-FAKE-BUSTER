<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>I miei post – FakeBuster</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<header>
    <h2>I miei post</h2>
    <a href="/feed">⬅ Torna al feed</a>
</header>

<main>
{% for post in posts %}
    <div class="post">
        <h3>{{ post.titolo }}</h3>
        <p>{{ post.testo }}</p>

        <p>
            <strong>Stato:</strong> {{ post.stato }} <br>
            <strong>Score IA:</strong> {{ post.ai_score }}
        </p>

        <form method="POST"
              action="/posts/delete/{{ post.id }}"
              onsubmit="return confirm('Vuoi eliminare definitivamente questo post?');">
            <button type="submit" class="danger">Elimina</button>
        </form>
    </div>
{% else %}
    <p>Non hai ancora creato post.</p>
{% endfor %}
</main>

<!-- POPUP APPELLO -->
<div id="appelloPopup" class="modal">
    <div class="modal-content">
        <h3>Post bloccato dall’IA</h3>

        <p>
            Il tuo post è stato bloccato automaticamente
            in base allo score dell’intelligenza artificiale.
        </p>

        <form id="appelloForm" method="post">
            <button type="submit">Fai appello</button>
            <button type="button" onclick="closePopup()">Annulla</button>
        </form>
    </div>
</div>

</body>
</html>
